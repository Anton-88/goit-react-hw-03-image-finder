{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","apiService/apiService.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["module","exports","ApiService","URL","key","this","_searchQuery","_page","_perPage","orientation","type","value","a","query","console","log","axios","get","result","data","hits","modalRoot","document","getElementById","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","removeEventListener","createPortal","className","styles","modal_backdrop","onClick","modal_content","children","Component","ImageGalleryItem","drawData","map","id","webformatURL","openModal","image_gallery__item","src","alt","image_gallery_image","Button","button_more","ApiServiceObj","ImageGallery","state","fetchedImgs","status","modalImgId","isModalOpen","handleClick","incPageNumber","page","fetchImages","then","searchResults","setState","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","modalImg","find","Number","closeModal","prevProps","prevState","searchValue","resetPage","searchQuery","res","color","height","width","timeout","image_gallery","largeImageURL","SearchBar","handleSearchChange","handleSearchSubmit","preventDefault","getSearchValue","searchbar","search_form","onSubmit","search_form__button","search_form__label","search_form__input","name","autoComplete","autoFocus","onChange","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.03736984.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_backdrop\":\"Modal_modal_backdrop__1jF82\",\"modal_content\":\"Modal_modal_content__jV9Qh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery__item\":\"ImageGalleryItem_image_gallery__item__1b5Kt\",\"image_gallery_image\":\"ImageGalleryItem_image_gallery_image__3dCtr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery\":\"ImageGallery_image_gallery__2QXNG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button_more\":\"Button_button_more__2dTtb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2c2Qy\",\"search_form\":\"Searchbar_search_form__1jTVL\",\"search_form__button\":\"Searchbar_search_form__button__3sAUX\",\"search_form__label\":\"Searchbar_search_form__label__22_zJ\",\"search_form__input\":\"Searchbar_search_form__input__2QHA2\"};","import axios from 'axios';\r\n\r\nexport default class ApiService {\r\n    constructor(URL, key) {\r\n        this.URL = URL;\r\n        this.key = key;\r\n        this._searchQuery = '';\r\n        // this.URL = 'https://pixabay.com/api/';\r\n        // this.key = '23099756-b59a1c1cdbe94bc1dac04ed03';\r\n        this._page = 1;\r\n        this._perPage = 12;\r\n        this.orientation = 'horizontal';\r\n        this.type = 'photo';\r\n    }\r\n\r\n    get searchQuery() {\r\n        return this._searchQuery;\r\n    }\r\n    set searchQuery(value) {\r\n        return (this._searchQuery = value);\r\n    }\r\n\r\n    get page() {\r\n        return this._page;\r\n    }\r\n    set page(value) {\r\n        return (this._page = value);\r\n    }\r\n\r\n    get perPage() {\r\n        return this._perPage;\r\n    }\r\n    set perPage(value) {\r\n        return (this._perPage = value);\r\n    }\r\n\r\n    resetPage() {\r\n        return (this._page = 1);\r\n    }\r\n\r\n    incPageNumber() {\r\n        this._page += 1;\r\n    }\r\n\r\n    async fetchImages() {\r\n        const query = `${this.URL}?key=${this.key}&page=${this._page}&per_page=${this._perPage}\r\n        &orientation=${this.orientation}&image_type=${this.type}&q=${this._searchQuery}`;\r\n        console.log('query :>> ', query);\r\n        try {\r\n            const result = await axios.get(query);\r\n            console.log('FETCHED PICTURES :>> ', result.data);\r\n            return result.data.hits;\r\n        }\r\n        catch (err) {\r\n            return err;\r\n        }\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom/cjs/react-dom.development\";\r\nimport styles from './Modal.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.any.isRequired,\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { handleBackdropClick } = this;\r\n        return createPortal(\r\n            <div className={styles.modal_backdrop} onClick={handleBackdropClick}>\r\n                <div className={styles.modal_content}>{this.props.children}</div>\r\n            </div>\r\n            ,\r\n            modalRoot)\r\n    }\r\n}","import { Component } from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n    render() {\r\n        console.log('this.props on modal open click :>> ', this.props);\r\n        return (\r\n            <>\r\n                {this.props.drawData.map(({ id, webformatURL }) => {\r\n                    return (<li key={id}\r\n                        id={id}\r\n                        onClick={this.props.openModal}\r\n                        className={styles.image_gallery__item}>\r\n                        <img src={webformatURL}\r\n                            alt=\"some pic\"\r\n                            className={styles.image_gallery_image}\r\n                        />\r\n                    </li>\r\n                    )\r\n                })}\r\n\r\n            </>\r\n        )\r\n    }\r\n}","import { Component } from 'react/cjs/react.production.min';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Button.module.css'\r\n\r\nexport default class Button extends Component {\r\n    render() {\r\n        return (\r\n            <button type=\"button\"\r\n                onClick={this.props.onClick}\r\n                className={styles.button_more}>\r\n                Load more\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};","import { Component } from \"react\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\nimport ApiService from \"../../apiService/apiService\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport PropTypes from 'prop-types'\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst key = '23099756-b59a1c1cdbe94bc1dac04ed03';\r\nconst ApiServiceObj = new ApiService(URL, key);\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        fetchedImgs: [],\r\n        status: 'init',\r\n        modalImgId: null,\r\n\r\n        isModalOpen: false,\r\n    }\r\n\r\n    static propTypes = {\r\n        searchValue: PropTypes.string.isRequired,\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.searchValue !== this.props.searchValue) {\r\n            this.setState({ status: 'pending' })\r\n            ApiServiceObj.resetPage();\r\n            ApiServiceObj.searchQuery = this.props.searchValue;\r\n            ApiServiceObj.fetchImages()\r\n                .then(res => {\r\n                    this.setState({ fetchedImgs: res, status: 'success' })\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    this.setState({ status: 'error' })\r\n                })\r\n        }\r\n    }\r\n\r\n    handleClick = () => {\r\n        ApiServiceObj.incPageNumber();\r\n        console.log(ApiServiceObj.page);\r\n        ApiServiceObj.fetchImages()\r\n            .then(searchResults => {\r\n                this.setState(prev => ({\r\n                    fetchedImgs: [...prev.fetchedImgs, ...searchResults],\r\n                    status: 'success',\r\n                }));\r\n            })\r\n            .then(() => {\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.setState({ status: 'error' });\r\n            });\r\n    };\r\n\r\n    modalImg = () => {\r\n        const { fetchedImgs, modalImgId } = this.state;\r\n        const modalImg = fetchedImgs.find(fetchedImgs => {\r\n            return fetchedImgs.id === modalImgId;\r\n        })\r\n        return modalImg;\r\n    }\r\n\r\n    openModal = (e) => {\r\n        this.setState({\r\n            isModalOpen: true,\r\n            modalImgId: Number(e.currentTarget.id),\r\n        });\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.setState({ isModalOpen: false })\r\n    };\r\n\r\n    render() {\r\n        const { isModalOpen, modalImgId } = this.state;\r\n        if (this.state.status === 'init') {\r\n            return <h2>Awaiting for your query...</h2>\r\n        }\r\n        if (this.state.status === 'pending') {\r\n            return (\r\n                <div>\r\n                    <Loader\r\n                        type=\"BallTriangle\"\r\n                        color=\"yellowgreen\"\r\n                        height={200}\r\n                        width={200}\r\n                        timeout={3000}\r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n        if (this.state.status === 'success') {\r\n            return (\r\n                <>\r\n                    <ul className={styles.image_gallery}>\r\n                        <ImageGalleryItem drawData={this.state.fetchedImgs} openModal={this.openModal} />\r\n                    </ul>\r\n                    <Button onClick={this.handleClick} />\r\n                    {isModalOpen && (\r\n                        <Modal modalImgId={modalImgId} onClose={this.closeModal}>\r\n                            <img src={this.modalImg().largeImageURL} alt='some pic' />\r\n                        </Modal>\r\n                    )}\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}","import { Component } from \"react\";\r\nimport { findRenderedDOMComponentWithClass } from \"react-dom/test-utils\";\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Searchbar.module.css'\r\n\r\n\r\nexport default class SearchBar extends Component {\r\n    state = {\r\n        searchValue: '',\r\n    }\r\n    static propTypes = {\r\n        getSearchValue: PropTypes.func.isRequired,\r\n    };\r\n\r\n\r\n    handleSearchChange = (e) => {\r\n        this.setState({ searchValue: e.target.value })\r\n    }\r\n\r\n    handleSearchSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('before fetch :>> ', this.state.searchValue);\r\n        this.props.getSearchValue(this.state.searchValue);\r\n        this.setState({ searchValue: '' });\r\n    }\r\n    render() {\r\n        return (\r\n            <header className={styles.searchbar}>\r\n                <form className={styles.search_form} onSubmit={this.handleSearchSubmit}>\r\n                    <button type=\"submit\" className={styles.search_form__button}>\r\n                        <span className={styles.search_form__label}></span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.search_form__input}\r\n                        name=\"searchValue\"\r\n                        // value={this.state.searchValue}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        onChange={this.handleSearchChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}","import \"./App.css\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Component } from \"react\";\nimport styles from \"./App.css\";\nimport apiService from './apiService/apiService'\nimport Modal from \"./components/Modal/Modal\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\n\nclass App extends Component {\n\n  state = {\n    searchValue: ''\n  }\n\n  getSearchValue = (searchValue) => {\n    console.log('get search Value');\n    this.setState({ searchValue })\n  }\n\n  render() {\n    const { searchValue } = this.state;\n    const { getSearchValue } = this;\n    return (\n      <>\n        <SearchBar getSearchValue={getSearchValue} />\n        <ImageGallery searchValue={searchValue} />\n      </>\n    );\n  }\n}\n\nexport default App;\n\n\n\n// render() {\n//   const { showModal, pics, isLoading } = this.state;\n//   const { toggleModal, onFormSubmit } = this;\n//   return (\n//     <>\n//       <SearchBar onSubmit={onFormSubmit} />\n//       <button type='button' onClick={toggleModal}>Open modal</button>\n//       {showModal && <Modal>\n//         <p>Hi, it is me, modal</p>\n//         <button type='button' onClick={toggleModal}>Close</button>\n//       </Modal>}\n//       {pics.length > 0 && <ImageGallery drawData={pics} />}\n//     </>\n//   );\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}